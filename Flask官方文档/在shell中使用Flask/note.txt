

命令行接口
创建一个请求情境
发送请求前/后动作
在 Shell 中玩得更爽


创建一个请求情境
在 shell 中创建一个正确的请求情境的最简便的方法是使用
test_request_context 方法。这个方法会创建一个 RequestContext ：
push(),pop()
发送请求前/后动作
仅仅创建一个请求情境还是不够的，需要在请求前运行的代码还是没有运行。
比如， 在请求前可以会需要转接数据库，或者把用户信息储存在 g 对象中。

使用 preprocess_request() 可以方便地模拟请求前/后动作：

请记住， preprocess_request() 函数可以会返回一个响应对 象。如果返回的话请忽略它。

如果要关闭一个请求，那么你需要在请求后函数（由 process_response() 触发）作用于响应对象前关闭：
